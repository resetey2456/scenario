<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARK Advance Digital Marketing ROI Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            color: #333;
        }
        h1, h2, h3 {
            color: #2c3e50;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
        input {
            width: 100%;
            padding: 5px;
            box-sizing: border-box;
        }
        .section {
            margin-bottom: 30px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .results {
            background-color: #e8f4fc;
        }
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 16px;
            margin: 10px 0;
        }
        button:hover {
            background-color: #2980b9;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ARK Advance Digital Marketing ROI Calculator</h1>
        
        <div class="section">
            <h2>1. Business Information</h2>
            <table>
                <tr>
                    <td>Average Product/Service Price ($)</td>
                    <td><input type="number" id="avgPrice" value="100"></td>
                </tr>
                <tr>
                    <td>Profit Margin (%)</td>
                    <td><input type="number" id="profitMargin" value="40"></td>
                </tr>
                <tr>
                    <td>Customer Lifetime Value ($)</td>
                    <td><input type="number" id="ltv" value="500"></td>
                </tr>
            </table>
        </div>
        
        <div class="section">
            <h2>2. Digital Marketing Investment</h2>
            <table>
                <tr>
                    <td>Total Budget ($)</td>
                    <td><input type="number" id="totalBudget" value="10000"></td>
                </tr>
                <tr>
                    <td>Campaign Duration (months)</td>
                    <td><input type="number" id="duration" value="6"></td>
                </tr>
                <tr>
                    <td>Monthly Agency Fee ($)</td>
                    <td><input type="number" id="agencyFee" value="990"></td>
                </tr>
            </table>
            
            <h3>Channel Allocation (%)</h3>
            <table>
                <tr>
                    <td>Search Ads (Google, Bing)</td>
                    <td><input type="number" id="searchAlloc" value="60"></td>
                </tr>
                <tr>
                    <td>Social Media Ads (Facebook, Instagram, LinkedIn)</td>
                    <td><input type="number" id="socialAlloc" value="40"></td>
                </tr>
            </table>
        </div>
        
        <div class="section">
            <h2>3. Performance Metrics</h2>
            <table>
                <tr>
                    <th>Channel</th>
                    <th>Expected CTR (%)</th>
                    <th>On-Site Conversion Rate (%)</th>
                    <th>Cost per Click ($)</th>
                </tr>
                <tr>
                    <td>Search Ads</td>
                    <td><input type="number" step="0.01" id="searchCTR" value="2.5"></td>
                    <td><input type="number" step="0.01" id="searchConv" value="3.2"></td>
                    <td><input type="number" step="0.01" id="searchCPC" value="1.20"></td>
                </tr>
                <tr>
                    <td>Social Media Ads</td>
                    <td><input type="number" step="0.01" id="socialCTR" value="1.8"></td>
                    <td><input type="number" step="0.01" id="socialConv" value="2.5"></td>
                    <td><input type="number" step="0.01" id="socialCPC" value="0.80"></td>
                </tr>
            </table>

            <h3>Lead to Sale Conversion</h3>
            <table>
                <tr>
                    <td>Lead to Sale Conversion Rate (%)</td>
                    <td><input type="number" step="0.01" id="leadToSaleRate" value="35"></td>
                </tr>
            </table>
        </div>
        
        <div class="section">
            <h2>4. Risk Factor</h2>
            <table>
                <tr>
                    <td>Risk Factor (0-100%, higher = more conservative results)</td>
                    <td><input type="number" id="riskFactor" value="20"></td>
                </tr>
            </table>
        </div>
        
        <button id="calculateButton">Calculate ROI</button>
        
        <div class="section results">
            <h2>Summary Results</h2>
            <table>
                <tr>
                    <td><strong>Total Marketing Investment</strong></td>
                    <td id="resultInvestment">$0.00</td>
                </tr>
                <tr>
                    <td><strong>Total Leads Generated</strong></td>
                    <td id="resultLeads">0</td>
                </tr>
                <tr>
                    <td><strong>Total Sales Converted</strong></td>
                    <td id="resultSales">0</td>
                </tr>
                <tr>
                    <td><strong>Total Projected Revenue</strong></td>
                    <td id="resultRevenue">$0.00</td>
                </tr>
                <tr>
                    <td><strong>Total Projected Profit</strong></td>
                    <td id="resultProfit">$0.00</td>
                </tr>
                <tr>
                    <td><strong>Return on Investment (ROI)</strong></td>
                    <td id="resultROI">0%</td>
                </tr>
                <tr>
                    <td><strong>Risk-Adjusted ROI</strong></td>
                    <td id="resultRiskROI">0%</td>
                </tr>
                <tr>
                    <td><strong>Customer Acquisition Cost (CAC)</strong></td>
                    <td id="resultCAC">$0.00</td>
                </tr>
                <tr>
                    <td><strong>Recommendation</strong></td>
                    <td id="recommendation">Please calculate results first</td>
                </tr>
            </table>
        </div>
        
        <div class="section">
            <h2>Channel Performance</h2>
            <table>
                <tr>
                    <th>Channel</th>
                    <th>Impressions</th>
                    <th>Clicks</th>
                    <th>Leads</th>
                    <th>Sales</th>
                    <th>Revenue</th>
                    <th>CAC</th>
                    <th>ROI</th>
                </tr>
                <tr>
                    <td>Search Ads</td>
                    <td id="searchImpressions">0</td>
                    <td id="searchClicks">0</td>
                    <td id="searchLeads">0</td>
                    <td id="searchSales">0</td>
                    <td id="searchRevenue">$0.00</td>
                    <td id="searchCAC">$0.00</td>
                    <td id="searchROI">0%</td>
                </tr>
                <tr>
                    <td>Social Media Ads</td>
                    <td id="socialImpressions">0</td>
                    <td id="socialClicks">0</td>
                    <td id="socialLeads">0</td>
                    <td id="socialSales">0</td>
                    <td id="socialRevenue">$0.00</td>
                    <td id="socialCAC">$0.00</td>
                    <td id="socialROI">0%</td>
                </tr>
            </table>
        </div>
    </div>

    <script>
        // Format currency values
        function formatCurrency(value) {
            return '$' + value.toFixed(2).replace(/\d(?=(\d{3})+\.)/g, '$&,');
        }
        
        // Format percentage values
        function formatPercentage(value) {
            return value.toFixed(2) + '%';
        }
        
        // Calculate ROI and update results
        document.getElementById('calculateButton').addEventListener('click', function() {
            try {
                // Get input values
                const totalBudget = parseFloat(document.getElementById('totalBudget').value) || 0;
                const avgPrice = parseFloat(document.getElementById('avgPrice').value) || 0;
                const profitMargin = parseFloat(document.getElementById('profitMargin').value) || 0;
                const ltv = parseFloat(document.getElementById('ltv').value) || 0;
                const duration = parseFloat(document.getElementById('duration').value) || 1;
                const agencyFee = parseFloat(document.getElementById('agencyFee').value) || 0;
                const riskFactor = parseFloat(document.getElementById('riskFactor').value) || 0;
                
                // Channel allocations
                const searchAlloc = parseFloat(document.getElementById('searchAlloc').value) || 0;
                const socialAlloc = parseFloat(document.getElementById('socialAlloc').value) || 0;
                
                // Performance metrics
                const searchCTR = parseFloat(document.getElementById('searchCTR').value) / 100 || 0;
                const searchConv = parseFloat(document.getElementById('searchConv').value) / 100 || 0;
                const searchCPC = parseFloat(document.getElementById('searchCPC').value) || 0;
                
                const socialCTR = parseFloat(document.getElementById('socialCTR').value) / 100 || 0;
                const socialConv = parseFloat(document.getElementById('socialConv').value) / 100 || 0;
                const socialCPC = parseFloat(document.getElementById('socialCPC').value) || 0;
                
                // Lead to sale conversion rate
                const leadToSaleRate = parseFloat(document.getElementById('leadToSaleRate').value) / 100 || 0;
                
                // Channel budgets
                const searchBudget = (searchAlloc / 100) * totalBudget;
                const socialBudget = (socialAlloc / 100) * totalBudget;
                
                // Calculate total agency fees for the duration
                const totalAgencyFees = agencyFee * duration;
                
                // Distribute agency fees proportionally based on budget allocation
                const searchAgencyFee = (searchAlloc / 100) * totalAgencyFees;
                const socialAgencyFee = (socialAlloc / 100) * totalAgencyFees;
                
                // Total cost per channel including agency fees
                const searchTotalCost = searchBudget + searchAgencyFee;
                const socialTotalCost = socialBudget + socialAgencyFee;
                
                // Calculate clicks
                const searchClicks = searchCPC > 0 ? searchBudget / searchCPC : 0;
                const socialClicks = socialCPC > 0 ? socialBudget / socialCPC : 0;
                
                // Calculate impressions
                const searchImpressions = searchCTR > 0 ? searchClicks / searchCTR : 0;
                const socialImpressions = socialCTR > 0 ? socialClicks / socialCTR : 0;
                
                // Calculate leads
                const searchLeads = searchClicks * searchConv;
                const socialLeads = socialClicks * socialConv;
                
                // Total leads
                const totalLeads = searchLeads + socialLeads;
                
                // Calculate sales
                const searchSales = searchLeads * leadToSaleRate;
                const socialSales = socialLeads * leadToSaleRate;
                
                // Total sales
                const totalSales = searchSales + socialSales;
                
                // Calculate revenue
                const searchRevenue = searchSales * avgPrice;
                const socialRevenue = socialSales * avgPrice;
                
                // Total revenue
                const totalRevenue = searchRevenue + socialRevenue;
                
                // Calculate profit
                const totalProfit = totalRevenue * (profitMargin / 100);
                
                // Calculate total cost (marketing budget + agency fees)
                const totalCost = totalBudget + totalAgencyFees;
                
                // Calculate ROI
                const roi = totalProfit > 0 ? ((totalProfit - totalCost) / totalCost) * 100 : -100;
                
                // Calculate risk-adjusted ROI
                const riskAdjustedROI = roi * (1 - riskFactor / 100);
                
                // Calculate CAC
                const cac = totalSales > 0 ? totalCost / totalSales : 0;
                
                // Calculate channel CAC and ROI with agency fees included
                const searchCAC = searchSales > 0 ? searchTotalCost / searchSales : 0;
                const socialCAC = socialSales > 0 ? socialTotalCost / socialSales : 0;
                
                const searchROI = searchRevenue > 0 ? ((searchRevenue * (profitMargin / 100) - searchTotalCost) / searchTotalCost) * 100 : -100;
                const socialROI = socialRevenue > 0 ? ((socialRevenue * (profitMargin / 100) - socialTotalCost) / socialTotalCost) * 100 : -100;
                
                // Add recommendation
                let recommendation = '';
                if (roi > 100) {
                    recommendation = 'STRONG INVEST: Very high ROI. Increase budget if possible.';
                } else if (roi > 50) {
                    recommendation = 'INVEST: Good ROI. Consider scaling the campaign.';
                } else if (roi > 20) {
                    recommendation = 'PROCEED: Positive ROI. Monitor performance closely.';
                } else if (roi > 0) {
                    recommendation = 'CAUTION: Minimal positive ROI. Optimize before scaling.';
                } else {
                    recommendation = 'RECONSIDER: Negative ROI. Revise strategy or reallocate budget.';
                }
                
                // Update summary results
                document.getElementById('resultInvestment').textContent = formatCurrency(totalCost);
                document.getElementById('resultLeads').textContent = Math.round(totalLeads).toLocaleString();
                document.getElementById('resultSales').textContent = Math.round(totalSales).toLocaleString();
                document.getElementById('resultRevenue').textContent = formatCurrency(totalRevenue);
                document.getElementById('resultProfit').textContent = formatCurrency(totalProfit);
                document.getElementById('resultROI').textContent = formatPercentage(roi);
                document.getElementById('resultRiskROI').textContent = formatPercentage(riskAdjustedROI);
                document.getElementById('resultCAC').textContent = formatCurrency(cac);
                document.getElementById('recommendation').textContent = recommendation;
                
                // Update channel results - Search
                document.getElementById('searchImpressions').textContent = Math.round(searchImpressions).toLocaleString();
                document.getElementById('searchClicks').textContent = Math.round(searchClicks).toLocaleString();
                document.getElementById('searchLeads').textContent = Math.round(searchLeads).toLocaleString();
                document.getElementById('searchSales').textContent = Math.round(searchSales).toLocaleString();
                document.getElementById('searchRevenue').textContent = formatCurrency(searchRevenue);
                document.getElementById('searchCAC').textContent = formatCurrency(searchCAC);
                document.getElementById('searchROI').textContent = formatPercentage(searchROI);
                
                // Update channel results - Social
                document.getElementById('socialImpressions').textContent = Math.round(socialImpressions).toLocaleString();
                document.getElementById('socialClicks').textContent = Math.round(socialClicks).toLocaleString();
                document.getElementById('socialLeads').textContent = Math.round(socialLeads).toLocaleString();
                document.getElementById('socialSales').textContent = Math.round(socialSales).toLocaleString();
                document.getElementById('socialRevenue').textContent = formatCurrency(socialRevenue);
                document.getElementById('socialCAC').textContent = formatCurrency(socialCAC);
                document.getElementById('socialROI').textContent = formatPercentage(socialROI);
                
                console.log("Calculation complete");
                
            } catch (error) {
                console.error("Calculation error:", error);
                alert("An error occurred during calculation. Please check your inputs.");
            }
        });
    </script>
</body>
</html>